<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Orchestrator</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .settings-container {
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
        }
        
        /* Tabs styling */
        .tabs {
            display: flex;
            border-bottom: 2px solid #ddd;
            margin-bottom: 20px;
            gap: 5px;
        }
        .tab {
            padding: 10px 20px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            position: relative;
        }
        .tab.active {
            background: white;
            border-bottom: 2px solid white;
            margin-bottom: -2px;
        }
        .tab:hover {
            background: #e9e9e9;
        }
        .tab.active:hover {
            background: white;
        }
        .tab-close {
            margin-left: 10px;
            color: #999;
            font-weight: bold;
            cursor: pointer;
        }
        .tab-close:hover {
            color: #d00;
        }
        .add-tab-btn {
            padding: 10px 20px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-left: auto;
        }
        .add-tab-btn:hover {
            background: #218838;
        }
        
        /* Tab content */
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        
        /* Form styling */
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        input.error {
            border-color: #dc3545;
            background-color: #fff5f5;
        }
        .validation-error {
            color: #dc3545;
            font-size: 12px;
            margin-top: 4px;
            display: block;
        }
        .required {
            color: #dc3545;
        }
        input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
        }
        button.primary {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border: none;
            /* border-radius: 4px; */
            cursor: pointer;
            margin-right: 10px;
        }
        button.primary:hover {
            background: #0056b3;
        }
        button.secondary {
            background: #6c757d;
            color: white;
        }
        button.secondary:hover {
            background: #5a6268;
        }
        button.danger {
            background: #dc3545;
            color: white;
        }
        button.danger:hover {
            background: #c82333;
            color: white;
        }
        button.success {
            background: #28a745;
            color: white;
        }
        button.success:hover {
            background: #218838;
            color: white;
        }
        
        /* Sections */
        .server-info-section, .services-section, .local-apps-section {
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: #f9f9f9;
        }
        
        /* Accordion styling */
        .accordion {
            margin-top: 15px;
        }
        .accordion-item {
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 10px;
            background: white;
        }
        .accordion-header {
            padding: 12px;
            background: #f5f5f5;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 4px;
        }
        .accordion-header:hover {
            background: #e9e9e9;
        }
        .accordion-header.active {
            background: #007bff;
            color: white;
        }
        .accordion-toggle {
            font-weight: bold;
            margin-right: 10px;
        }
        .accordion-content {
            display: none;
            padding: 15px;
        }
        .accordion-content.active {
            display: block;
        }
        .accordion-actions {
            display: flex;
            gap: 5px;
        }
        
        .test-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
        }
        .test-result.success {
            background: #d4edda;
            color: #155724;
        }
        .test-result.error {
            background: #f8d7da;
            color: #721c24;
        }
        
        small {
            color: #666;
            display: block;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="settings-container">
        <h1>Orchestrator Settings</h1>
        
        <!-- Server Tabs -->
        <div class="tabs" id="server-tabs">
            <!-- Tabs will be dynamically generated -->
        </div>
        
        <!-- Tab Contents -->
        <div id="server-tab-contents">
            <!-- Tab contents will be dynamically generated -->
        </div>
        
        <!-- Local Apps Section (outside tabs) -->
        <div class="local-apps-section">
            <h2>Local Applications</h2>
            <div id="local-apps-container">
                <!-- Local apps will be dynamically generated -->
            </div>
            <button class="success" id="add-local-app">+ Add Local App</button>
        </div>
        
        <!-- Action Buttons -->
        <div class="form-group">
            <button id="save-config" class="primary">Save Configuration</button>
            <button id="load-config" class="secondary" style="color: white;">Reload Configuration</button>
        </div>
    </div>
    <script type="module" src="settings.js"></script>
</body>
</html>
